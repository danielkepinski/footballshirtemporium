<!-- HEADER -->
<header class="site-header">
  <div class="container nav">
    <!-- Brand -->
    <a href="{% url 'home' %}" class="brand">
      <img src="{% static 'img/FSElogo.jpg' %}" alt="Football Shirt Emporium logo" class="brand__logo">
      <span class="brand__text">Football Shirt Emporium</span>
    </a>

    <!-- Mobile toggle -->
    <button class="nav-toggle" aria-controls="primary-nav" aria-expanded="false">
      <span class="sr-only">Menu</span>
      <!-- Hamburger icon -->
      <svg class="icon-hamburger" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
      <!-- Close icon -->
      <svg class="icon-close" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M6 6l12 12M18 6l-12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
    </button>

    <!-- NAV -->
    <nav id="primary-nav" class="menu">
      <a href="{% url 'shop:product_list' %}">Shop</a>
      <a href="{% url 'cart:cart_detail' %}">Cart</a>

      {% if request.user.is_authenticated %}
        <a href="{% url 'accounts:account' %}">My account</a>
        <a href="#" class="nav-link" onclick="event.preventDefault(); document.getElementById('logout-form').submit();">
          Log out
        </a>
        <form id="logout-form" action="{% url 'logout' %}" method="post" hidden>
          {% csrf_token %}
        </form>
      {% else %}
        <a href="{% url 'login' %}?next={{ request.path }}">Log in</a>
        <a href="{% url 'accounts:register' %}">Register</a>
      {% endif %}
    </nav>

    <!-- CART -->
    <div class="cart" style="margin-left: 16px;">
      {% with total_items=cart|length %}
        {% if total_items > 0 %}
          Your cart:
          <a href="{% url 'cart:cart_detail' %}">
            {{ total_items }} item{{ total_items|pluralize }},
            Â£{{ cart.get_total_price }}
          </a>
        {% elif not order %}
          Your cart is empty.
        {% endif %}
      {% endwith %}
    </div>
  </div>
</header>
